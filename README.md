# RapidRotary
Преобразователь G-кода G94 в G93.

Ваша поворотная ось быстро перемещается, но затем при выполнении заданий движется намного медленнее, чем ожидалось? Если да, то эта программа может помочь решить эту проблему!

Видео демонстрация: https://youtu.be/d0ffiCekhpE

Предыстория и описание проблемы

Эта программа преобразует G-код из G94 (режим скорости подачи в единицах в минуту) в G93 (режим обратнозависимой времени). Основное различие между этими двумя режимами заключается в том, что в G93 для каждого линейного или дугового перемещения (G1, G2 или G3) эта команда также должна указывать, сколько времени потребуется для выполнения этого перемещения. Использование G93 дает преимущества, когда перемещение имеет как линейные, так и вращательные компоненты. Причина в том, что линейные перемещения имеют единицы измерения расстояния, тогда как вращательные перемещения измеряются в градусах, и многие пакеты программного обеспечения CAM указывают скорость подачи в G-коде только в единицах расстояния, например F90 (в английских единицах измерения) будет означать скорость 90 дюймов. в минуту. Однако, если бы в то же время у вас было вращение, контроллер (например, LinuxCNC) интерпретировал бы это как 90 градусов в минуту. При такой скорости один полный оборот займет 4 минуты! Это медленно! Решением этой проблемы является использование обратного времени, когда каждое движение имеет определенное время для выполнения, которое не зависит от единиц измерения, используемых любым типом оси!

Мне не удалось найти какие-либо CAM-инструменты для хобби или среднего уровня, которые выводили бы G-код в режиме G93. Для индексированных стратегий, где поворотная ось используется нечасто, это не представляет большой проблемы. Однако в некоторых случаях, когда происходит много вращательных движений, результаты настолько медленны, что ось вращения практически непригодна для использования. Люди «обыграли» систему, увеличивая скорость подачи, чтобы ось вращения двигалась быстрее, но это также означает, что линейные оси движутся слишком быстро и, как правило, тогда их физическая максимальная скорость ограничивается. Чтобы решить эту проблему, некоторые контроллеры (например, Mach3/Mach4) имеют возможность использовать ось Z для компенсации скорости подачи по оси вращения, предполагая, что точка Z-0 центрирована на оси вращения, а затем преобразуют линейную скорость в скорость вращения. используя длину дуги круга с радиусом, равным текущему положению оси z. Но другие контроллеры, такие как LinuxCNC, не предлагают такой возможности – и именно для решения этой проблемы была написана эта программа.

Краткое описание того, что делает Rapid Rotary:

Это приложение не изменяет ни одну из позиций в командах движения G-кода. Вместо этого он преобразуется из G94 в G93, вычисляя расстояние, которое проходит инструмент для каждой линии, и используя последнюю заданную скорость подачи для расчета времени, которое должно потребоваться инструменту для завершения этого движения. Для поворотных перемещений программа использует положение оси Z (как значение радиуса) для преобразования единиц вращения (углов) в расстояние. Это обеспечивает постоянную скорость подачи кончика инструмента даже для сложной геометрии и приводит к более медленному вращению оси A при обработке участков детали большего диаметра и более быстрому вращению оси A при обработке областей меньшего диаметра.

В программе имеется поле ввода, где пользователь может указать смещение нуля Z от поворотной оси. Если это значение равно 0,0 (по умолчанию), то G-код рассчитывался с использованием нулевой точки Z на оси вращения. Если нулевое положение Z находится на поверхности материала, то пользователь должен установить это значение смещения как радиус материала.

Как использовать программу:

1) Сгенерируйте g-код (.ngc) для своей детали с помощью программного обеспечения CAM. Обязательно используйте совместимый постпроцессор (см. раздел ограничений).
2) Запустите приложение Rapid Rotary, нажмите верхнюю кнопку «Обзор» и найдите файл, созданный на шаге 1. Выходной файл автоматически устанавливается с добавлением «_G93» к имени файла, которое вы можете изменить, выбрав второй « Кнопка «Обзор», если хотите. 3) Установите значение смещения нуля по оси Z, используемое при моделировании детали. Если нуль Z находится на оси вращения, оставьте значение 0,0 (по умолчанию). Если Z-ноль находится на поверхности материала, установите это значение как радиус материала. 4) Выберите метод конвертации. Обычно это значение по умолчанию «Использовать G93 для всего файла», что полезно, когда в задании много вращательных движений. Однако, если в задании имеется всего несколько ротационных разрезов, может оказаться более эффективным вместо этого обернуть каждую строку G93. В этом случае выберите второй вариант «Деформировать каждое вращательное движение в G93». 5) Укажите единицы измерения проекта в дюймах или миллиметрах (мм). В основном это используется для масштабирования проверки допусков и ошибок, поскольку большая часть преобразования не зависит от базовых единиц модели. 6) Наконец нажмите кнопку «Конвертировать». Сводка результатов отображается в нижней части программы, а если есть какие-либо ошибки, также отображаются подробности. 7) Вручную проверьте и/или протестируйте выходной файл .ngc, чтобы убедиться в отсутствии ошибок или ошибок в процессе преобразования и в том, что его можно безопасно запускать на вашем компьютере и настраивать.

Что было протестировано/проверено:

Rapid Rotary был протестирован с использованием пары примеров файлов .ngc, созданных Vectric v8.5.
